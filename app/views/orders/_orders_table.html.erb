<!-- app/views/orders/_orders_table.html.erb -->
<table class="table">
  <thead>
    <tr>
      <th>Order ID</th>
      <th>User</th>
      <th>Items</th>
      <th>Total Amount</th>
      <th>Status</th>
      <th>Created At</th>
    </tr>
  </thead>
  <tbody>
    <% orders.each do |order| %>
      <tr>
        <td><%= order.id %></td>
        <td><%= order.user.email %></td>
        <td>
          <ul>
            <% order.cart_items.each do |item| %>
              <li><%= item.product.name %> - <%= item.quantity %> x <%= number_to_currency(item.product.price) %></li>
            <% end %>
          </ul>
        </td>
        <td><%= number_to_currency(order.total) %></td>
        <td><%= order.completed_at ? "Completed" : "Pending" %></td>
        <td><%= order.created_at.strftime("%B %d, %Y %I:%M %p") %></td>
      </tr>
    <% end %>
  </tbody>
</table>
